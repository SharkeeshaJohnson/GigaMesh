================================================================================
                              THE SPROUTS
                    "The reality of the life you choose."
================================================================================

OVERVIEW
--------
The Sprouts (codenamed GigaMesh/LifeSim) is an AI-powered life simulation game
that combines elements from The Sims, narrative RPGs, and Tamagotchi-style
virtual pet games. Players step into the life of a procedurally generated
character and navigate complex relationships, moral dilemmas, and life choices
through conversational AI interactions.

The game features a distinctive Windows 95/retro aesthetic combined with
procedurally generated pixel art characters.


================================================================================
                            CORE GAME MECHANICS
================================================================================

1. SAVE SLOT SYSTEM
-------------------
   - 4 save slots per user (0-3)
   - Each save slot contains a complete "identity" (playable character)
   - Identities persist between sessions via IndexedDB (local browser storage)
   - No cloud dependencies - all data stored locally in the browser

2. DIFFICULTY/CONTENT MODES
---------------------------
   The game offers three distinct experience levels that affect both content
   intensity and narrative tone:

   a) REALISTIC (Family-Friendly)
      - Grounded life simulation with everyday challenges
      - Professional relationships, family dynamics, mundane drama
      - No explicit content, profanity, or graphic themes
      - Conflicts are verbal and resolved through communication
      - NPCs are friendly, professional, and respectful

   b) DRAMATIC (Mature)
      - Soap opera intensity with secrets, tension, and betrayals
      - Adult themes: affairs, jealousy, moral ambiguity
      - Sexual tension implied but never explicit (fade to black)
      - Violence referenced but not graphically described
      - NPCs can be manipulative, passive-aggressive, morally gray

   c) CRAZY (Unfiltered/NSFW - 18+ Only)
      - Maximum chaos with fully unfiltered content
      - Explicit sexual content, extreme violence, dark themes
      - Criminal activity, psychological abuse, substance use
      - NPCs can be sexually aggressive, violent, or psychopathic
      - Requires age verification acknowledgment
      - Only 2 hard limits: No CSAM, No terrorism instructions

3. METERS/STATS SYSTEM
----------------------
   Players have 5 life meters that change based on actions and events:

   - Family Harmony (0-100): Reflects family relationships and domestic peace
   - Career Standing (0-100): Job performance, reputation at work
   - Wealth (0-100): Financial stability and resources
   - Mental Health (0-100): Psychological wellbeing, stress levels
   - Reputation (0-100): Social standing in the community

   Default starting values:
   - Family Harmony: 70
   - Career Standing: 50
   - Wealth: 50
   - Mental Health: 70
   - Reputation: 60

   Note: Starting values are modified based on the persona template selected.


================================================================================
                         CHARACTER CREATION FLOW
================================================================================

STEP 1: DIFFICULTY SELECTION
-----------------------------
Player chooses one of three modes (Realistic, Dramatic, or Crazy).
For "Crazy" mode, an 18+ age verification warning modal appears.

STEP 2: AVATAR SELECTION
------------------------
Player selects from 22 pre-generated pixel art character sprites.
Each sprite is purely cosmetic - gameplay persona is separate from appearance.

Behind the scenes:
- System pre-generates unique PersonaTemplates for each avatar
- When player selects an avatar, they're assigned a random persona type
- Players can "Reroll Story" to get a different persona for the same avatar

STEP 3: PERSONA ASSIGNMENT
--------------------------
Each persona template includes:
- Type: Human-readable archetype (e.g., "Ambitious Professional")
- Traits: Core personality traits (e.g., ["hardworking", "competitive"])
- Situations: Possible life scenarios
- Backstory Hints: Story hooks for the AI
- NPC Context Hints: What kind of NPCs would surround this character

Example Persona Types by Content Rating:

FAMILY-FRIENDLY:
- Ambitious Professional
- Devoted Parent
- Idealistic Newcomer
- Caring Caregiver
- Creative Dreamer
- Loyal Friend
- Quiet Achiever
- Reluctant Leader
- Eternal Optimist
- Protective Sibling
- Second Chance Seeker
- Community Pillar
- Late Bloomer

MATURE:
- Includes all family-friendly personas PLUS:
- Secret Affair
- Office Politics Survivor
- Recovering Addict
- Trophy Spouse
- Midlife Crisis
- And more drama-oriented types

UNFILTERED/NSFW:
- Includes all previous PLUS:
- Black Widow/Widower
- Underground Figure
- Cult Escapee
- Spy/Double Agent
- And more extreme/adult archetypes

STEP 4: SCENARIO GENERATION
---------------------------
AI generates a complete life scenario including:
- Player name (from diverse name pool suggestions)
- Gender
- Profession and workplace
- Family structure (marital status, children, extended family)
- Living situation
- Brief background (2 bullet points about past)
- Current story (2 bullet points about present situation)

STEP 5: NPC GENERATION
----------------------
10 NPCs are generated with:
- 2 "Core" characters (closest relationships - spouse, boss, best friend)
- 4 "Secondary" characters (important but less central)
- 4 "Tertiary" characters (extended cast, background)

Each NPC includes:
- Name, role, personality
- Tier classification (core/secondary/tertiary)
- Current emotional state (can be multiple: ["happy", "anxious"])
- Relationship status with player
- 2 background bullets (who they are + their secret/hidden motivation)
- Assigned pixel art sprite
- AI model assignment (tier-based)
- Opening scenario (personalized story hook for 1:1 chat)
- Story seeds (individual secrets/confessions unique to that NPC)


================================================================================
                            NPC SYSTEM
================================================================================

NPC TIERS
---------
1. CORE (2 NPCs)
   - Closest relationships (spouse, boss, best friend)
   - Uses highest quality AI model (qwen3-30b)
   - Most narrative weight and screen time

2. SECONDARY (4 NPCs)
   - Important supporting cast (family, key coworkers)
   - Uses same model as core (qwen3-30b)
   - Significant story involvement

3. TERTIARY (4+ NPCs)
   - Extended cast, background characters
   - Uses faster/cheaper model (qwen3-8b)
   - Can become more important through gameplay

NPC ORIGINS
-----------
- GUARANTEED: Created at game start (10 NPCs)
- EMERGENT: Spawn through gameplay events (unlimited)
  - Once spawned, emergent NPCs are permanent

NPC ATTRIBUTES
--------------
- Personality: Core behavioral description
- Backstory: Hidden information about their past
- Bullets: 2 short descriptions (visible to player)
- Current Emotional State: How they're feeling now (supports multiple)
- Relationship Status: Their relationship with the player
- Opening Scenario: Personalized story hook displayed when starting 1:1 chat
- Story Seeds: Individual secrets/confessions this NPC can reveal (2 per NPC)
- Scenario Used: Tracks if opening scenario has been displayed
- Off-Screen Memories: Events from simulation that NPC experienced
- isDead: NPCs can die (killed, suicide, etc.)
- Death day and cause are tracked if applicable

EMOTIONAL STATES
----------------
NPCs have rich emotional states that vary by content rating. NPCs can express
MULTIPLE emotions simultaneously (e.g., ["happy", "horny"], ["angry", "jealous"]).

The emotional state system includes 100+ unique states organized by difficulty:

FAMILY-FRIENDLY STATES (22 states):
  Basic: neutral, happy, sad, angry, anxious, confused, hopeful, grateful
  Social: proud, embarrassed, lonely, jealous, curious, determined
  Intense: frustrated, overwhelmed, nostalgic, content, excited, worried
  Complex: defensive, resigned

MATURE STATES (adds 40+ states):
  Dark: bitter, resentful, spiteful, vindictive, manipulative, scheming
  Tension: paranoid, suspicious, envious, obsessive, possessive, seething
  Emotional: devastated, broken, numb, hollow, tormented, desperate
  Complex: smug, calculating, predatory, unhinged, manic, dissociated
  Moral Gray: guilt-ridden, self-destructive, masochistic, nihilistic

UNFILTERED/NSFW STATES (adds 50+ states):
  Sexual: horny, lustful, seductive, aroused, cock-hungry, insatiable
  Power: dominant, submissive, degraded, humiliated, objectified
  Extreme: sadistic, masochistic, voyeuristic, exhibitionistic
  Dark: homicidal, suicidal, psychotic, deranged, bloodthirsty
  Taboo: cuckolded, breeding-obsessed, corruption-hungry
  Depraved: rape-fantasy, snuff-curious, incest-conflicted

MULTI-EMOTION EXAMPLES:
  - ["happy", "horny"] - Joyful arousal
  - ["angry", "jealous"] - Possessive rage
  - ["guilty", "aroused"] - Conflicted desire
  - ["dominant", "sadistic"] - Power and cruelty
  - ["desperate", "submissive"] - Needy surrender

Each emotional state includes:
  - Voice modifiers (tone, intensity, speech patterns)
  - Speaking patterns (characteristic phrases and expressions)
  - Combined states blend their voice qualities for layered personalities


================================================================================
                    SPEAKING STYLE SYSTEM
================================================================================

Each NPC has a dynamically generated speaking style based on:
- Current emotional state(s)
- Role/relationship to player
- Backstory/personality
- Content rating

COMPONENTS:
-----------
1. Voice: How they sound (e.g., "sharp, explosive, confrontational")
2. Undertone: What colors everything they say
3. Speech Patterns: Distinctive patterns (e.g., "short sentences", "sighing")
4. Example Phrases: Things they'd say based on mood/role
5. Never Say: Things they'd avoid saying

MOOD_VOICE_MAP:
---------------
Every emotional state maps to specific voice qualities:
- neutral: "balanced, normal conversation"
- angry: "sharp, explosive, confrontational" + ["short sentences", "direct accusations"]
- jealous: "green-eyed, comparing" + ["who were you with", "why them"]
- seductive: "low, inviting, promising" + ["suggestive pauses", "double meanings"]
- etc. (100+ mappings)


================================================================================
                         CHAT SYSTEM ARCHITECTURE
================================================================================

OVERVIEW - TWO DISTINCT CHAT MODES
----------------------------------
The game features two separate chat experiences with different purposes:

1. GROUP CHAT (Main Hub) - Casual social interaction with all NPCs
2. 1:1 CHAT (Individual) - Deep story-driven conversations with single NPCs

This separation allows for:
- Natural group dynamics without forced drama
- Focused narrative progression in private conversations
- Player choice in when to engage with story content


================================================================================
                           GROUP CHAT SYSTEM
================================================================================

PURPOSE
-------
The group chat serves as the main social hub where the player interacts with
all NPCs in a relaxed, natural setting. Think of it like a group text or
Discord server where everyone hangs out.

KEY DESIGN PRINCIPLES:
----------------------
1. NO HIDDEN AGENDAS - NPCs just respond naturally based on personality
2. NO STORY SEEDS - Secrets and revelations happen in 1:1 chats only
3. PERSONALITY-DRIVEN - NPCs are themselves, not pushing narratives
4. SOCIAL VIBES - React to what others say, joke, tease, agree, disagree

AUTO-CHAT SYSTEM:
-----------------
When enabled, NPCs talk to each other without player input:

- Cap: 5 TOTAL messages (not per-NPC), then pauses for player input
- Selection: Random NPC selection with weighted probability
- Personality-Only: No story directives, just natural responses
- Pause Triggers: If NPC directly addresses player by name with a question

AUTO-CHAT DIRECTIVE (Simplified):
---------------------------------
```
[GROUP CHAT - BE YOURSELF]
Just respond naturally based on your personality and mood.
- React to what others are saying (agree, disagree, joke, tease)
- Be yourself - {npc.personality}
NO HIDDEN AGENDAS. NO SECRETS TO REVEAL. JUST VIBES.
```

STREAMING WITH RETRY LOGIC:
---------------------------
- First attempt: Shows streaming text
- Retries (if needed): Shows typing indicator only
- Prevents UI flicker during regeneration attempts

SIMILARITY DETECTION:
---------------------
- Extracts key phrases from recent messages
- Compares new response to recent NPC messages
- If >70% overlap, regenerates with banned phrase list
- Uses synchronous ref (not React state) for immediate access

PROMPT STRUCTURE (buildGroupChatPrompt):
----------------------------------------
Section 1: PERSONALITY - Who you are, mood, background
Section 1.5: SPEAKING STYLE - Voice, patterns, phrases
Section 2: MEMORIES - Past conversation memories + simulation events
Section 3: WHO'S HERE - Conversation participants
Section 4: NPC BANTER - How to interact with other NPCs
Section 5: HOW TO RESPOND - Core response rules
+ Auto-Chat Directive (when applicable)

Note: Story seeds and cross-NPC knowledge REMOVED from group chat prompts.


================================================================================
                         1:1 CHAT SYSTEM (NEW)
================================================================================

PURPOSE
-------
Individual NPC chats are where the real story happens. Each NPC has their own
narrative arc with opening scenarios and story seeds that create dramatic,
personalized conversations.

ACCESSING 1:1 CHATS:
--------------------
- New "1:1 Chats" section in the sidebar below group conversations
- Each NPC shows: avatar, name, role
- Red notification dot indicates new/unused scenario available
- Click navigates to dedicated 1:1 chat page

OPENING SCENARIOS:
------------------
When starting a 1:1 chat, the NPC initiates with a contextual opening scenario.

Day 1 Scenarios (Character Creation):
- Generated based on NPC's role and relationship to player
- Role-appropriate hooks (spouse talks about relationship, boss about work, etc.)
- Difficulty-appropriate content

Day 2+ Scenarios (Post-Simulation):
- INVOLVED NPCs: Scenario references simulation events they experienced
  - Example: "Sarah seems distracted... 'I saw something yesterday that I can't
    stop thinking about. Were you really at the Miller house?'"
- UNINVOLVED NPCs: Random new scenario appropriate to their role
  - Example: "Your mother has something on her mind... 'I've been meaning to
    talk to you about the family reunion next month.'"

Scenario Display:
- Shows as first message when entering chat (if not already used)
- Styled distinctly from regular messages
- Marked as "used" after display (scenarioUsed = true)
- Won't show again until simulation generates new scenario

STORY SEEDS (Per-NPC):
----------------------
Each NPC has 2 individual story seeds - secrets, confessions, or revelations
that are UNIQUE to that NPC. No cross-NPC knowledge.

Story Seed Structure:
```typescript
interface NPCStorySeed {
  id: string;
  fact: string;                    // The specific secret/confession
  type: 'secret' | 'confession' | 'rumor' | 'past_event';
  severity: 'minor' | 'moderate' | 'major' | 'explosive';
  revealedToPlayer: boolean;       // Has this been revealed?
  narrativePriority: number;       // Lower = reveal earlier
}
```

Story Seed Integration in Prompts:
```
=== YOUR PERSONAL STORY ===
You have something on your mind you might share:
"{currentSeed.fact}"

IMPORTANT: Don't force this. If {playerName} seems uninterested or takes the
conversation elsewhere, follow their lead. Only share if it feels natural.

Try ONCE to steer the conversation toward your story. If they go off-topic,
adapt and engage with what THEY want to talk about instead.
```

Key Design Decisions:
- NPCs try ONCE to bring up their story, then follow player's lead
- No aggressive steering - if player wants to talk about something else, NPC adapts
- Seeds are isolated per-NPC - no shared knowledge between NPCs
- Revelations feel organic, not forced


================================================================================
                      SIMULATION & SCENARIO REGENERATION
================================================================================

SIMULATION OVERVIEW
-------------------
The simulation system handles "time skips" where events occur off-screen.
After simulation, NPC scenarios are regenerated to reflect what happened.

POST-SIMULATION SCENARIO UPDATE:
--------------------------------
```typescript
const updateNPCOpeningScenarios = (identity, simulationResult) => {
  return identity.npcs.map(npc => {
    // Find events this NPC was involved in
    const relevantEvents = simulationResult.events.filter(event =>
      event description mentions NPC's name
    );

    if (relevantEvents.length > 0) {
      // NPC was involved - create event-based scenario
      const primaryEvent = relevantEvents.sort(bySeverity)[0];
      return {
        ...npc,
        openingScenario: generateEventBasedScenario(npc, primaryEvent, identity),
        scenarioUsed: false
      };
    } else {
      // NPC wasn't involved - create random new scenario
      return {
        ...npc,
        openingScenario: generateRandomScenario(npc, identity),
        scenarioUsed: false
      };
    }
  });
};
```

This ensures:
- NPCs reference events they witnessed/experienced
- Simulation consequences carry into conversations
- Every NPC has fresh content after time skips
- Red notification dots appear for NPCs with new scenarios


================================================================================
                         SCENARIO GENERATOR MODULE
================================================================================

Located at: src/lib/narrative/scenario-generator.ts

FUNCTIONS:
----------

1. generateDay1Scenario(npc, identity)
   - Creates initial opening scenario at character creation
   - Role-based templates (spouse, boss, family, friend, etc.)
   - Considers relationship closeness and NPC personality
   - Difficulty-appropriate content

2. generateNPCStorySeeds(npc, identity, count)
   - Extracts story seeds from NPC's backstory bullets
   - Prioritizes hidden/secret bullet content
   - Assigns severity based on content keywords
   - Returns array of NPCStorySeed objects

3. generateEventBasedScenario(npc, event, identity)
   - Creates scenario referencing a simulation event
   - NPC's perspective on what happened
   - Emotional reaction based on event severity
   - Natural conversation starter about the event

4. generateRandomScenario(npc, identity)
   - Creates fresh scenario for uninvolved NPCs
   - Role-appropriate topics (work, family, hobbies, etc.)
   - Adds variety between simulation cycles

5. severityScore(event)
   - Helper to sort events by importance
   - Used to select primary event for scenario generation


================================================================================
                            UI/UX UPDATES
================================================================================

SIDEBAR STRUCTURE (Updated):
----------------------------
```
+---------------------------+
| [+ New Conversation]      |
+---------------------------+
| Group Conversations:      |
| - All NPCs (default)      |
| - Custom Group 1          |
| - Custom Group 2          |
+---------------------------+
| 1:1 Chats:                |  <-- NEW SECTION
| [Avatar] Sarah (Wife)   > |
| [Avatar] Mike (Boss)  * > |  <-- * = red dot (new scenario)
| [Avatar] Mom (Mother)   > |
| [Avatar] etc...           |
+---------------------------+
```

1:1 CHAT ENTRY FEATURES:
------------------------
- NPC avatar (small pixel sprite)
- NPC name and role
- Red notification dot if scenarioUsed === false
- Arrow indicator (â†’) showing it's clickable
- Click navigates to /play/[identityId]/chat/[npcId]

NOTIFICATION DOT LOGIC:
-----------------------
```typescript
const hasNewScenario = !npc.scenarioUsed && npc.openingScenario;
// Shows red dot if NPC has an opening scenario that hasn't been viewed yet
```


================================================================================
                         TECHNICAL ARCHITECTURE
================================================================================

TECH STACK
----------
- Next.js 14+ (App Router)
- TypeScript
- Tailwind CSS
- Privy.io for authentication
- Reverbia SDK for AI chat functionality
- IndexedDB for local storage
- PixelLab API for pixel art sprites

AI MODEL CONFIGURATION
----------------------
Different models for different purposes:

- Core NPCs: fireworks/qwen3-30b-a3b (highest quality)
- Secondary NPCs: fireworks/qwen3-30b-a3b
- Tertiary NPCs: fireworks/qwen3-8b (faster/cheaper)
- Scenario Generation: fireworks/qwen3-30b-a3b
- Memory Extraction: fireworks/qwen3-30b-a3b
- Embeddings: openai/text-embedding-3-small
- Fallback: fireworks/qwen3-8b

LOCAL-FIRST ARCHITECTURE
------------------------
- All game data stored in browser's IndexedDB
- No cloud dependencies
- Works offline after initial load
- Privacy-preserving design

KEY FILES
---------
- src/app/play/[identityId]/page.tsx - Main group chat hub
- src/app/play/[identityId]/chat/[npcId]/page.tsx - 1:1 NPC chat
- src/app/play/[identityId]/simulate/page.tsx - Time skip/simulation
- src/app/create/page.tsx - Character creation
- src/lib/narrative/scenario-generator.ts - Opening scenarios & story seeds
- src/lib/narrative/ - Narrative engine modules
- src/lib/types/npc.ts - NPC interface with story seed types
- src/lib/content-filter.ts - Content filtering by difficulty
- src/lib/emotional-states.ts - 100+ emotional state definitions


================================================================================
                            UI/UX DESIGN
================================================================================

AESTHETIC
---------
- Windows 95 retro aesthetic with modern polish
- Japandi design influences (clean, minimal, warm)
- Procedurally generated animated pixel art characters
- Monospace fonts for UI text
- Classic window chrome with title bars and buttons

KEY SCREENS
-----------
1. Landing Page: Typewriter title animation, character carousel, login CTA
2. Play Page: Save slot management, continue/new game options
3. Create Page: Multi-step character creation wizard
4. Game Page: Chat interface with NPC portraits, meters display
5. 1:1 Chat Page: Individual NPC conversation with opening scenario
6. Simulate Page: Time skip with event results

ANIMATIONS
----------
- Typewriter text effects
- Idle character sprite animations (breathing frames)
- Fade transitions between screens
- Loading progress indicators
- Streaming text with typing indicators


================================================================================
                            CONTENT SAFETY
================================================================================

ABSOLUTE HARD LIMITS (All Modes)
--------------------------------
1. No CSAM (child sexual abuse material) - NEVER allowed
2. No terrorism planning/recruitment - NEVER allowed

These limits apply regardless of difficulty mode or fictional context.

CONTENT FILTERING BY MODE
-------------------------
Full content filter system exists (src/lib/content-filter.ts) with:
- buildSafetyPreamble(): Generates mode-appropriate safety instructions
- getContentGuidelines(): Detailed guidelines per rating
- getNPCBehaviorGuidelines(): NPC behavior rules per mode


================================================================================
                     DATA MODEL CHANGES (December 2025)
================================================================================

NPC INTERFACE ADDITIONS:
------------------------
```typescript
interface NPC {
  // ... existing fields ...

  // NEW: Opening scenario for 1:1 chat
  openingScenario: string;

  // NEW: Individual story seeds (secrets/confessions)
  storySeeds: NPCStorySeed[];

  // NEW: Track if scenario has been displayed
  scenarioUsed: boolean;
}

interface NPCStorySeed {
  id: string;
  fact: string;
  type: 'secret' | 'confession' | 'rumor' | 'past_event';
  severity: 'minor' | 'moderate' | 'major' | 'explosive';
  revealedToPlayer: boolean;
  narrativePriority: number;
}
```

IDENTITY INTERFACE CHANGES:
---------------------------
```typescript
interface Identity {
  // ... existing fields ...

  // DEPRECATED: Global story seeds (no longer used)
  // @deprecated Use npc.storySeeds instead - each NPC now has individual seeds
  storySeeds?: StorySeed[];
}
```

MIGRATION HANDLING:
-------------------
Existing saves are automatically migrated:
- NPCs without storySeeds get them generated from backstory
- NPCs without openingScenario get role-appropriate scenarios
- Old identity.storySeeds ignored (deprecated but not removed for compatibility)


================================================================================
                     REMOVED/DEPRECATED FEATURES
================================================================================

REMOVED FROM GROUP CHAT:
------------------------
1. Story seed directives - NPCs no longer have hidden agendas in group chat
2. Cross-NPC knowledge (npcKnownFacts) - No shared knowledge system
3. Revelation phases - No phased revelation system in group chat
4. Per-NPC auto-chat cap - Now 5 TOTAL messages instead of 2 per NPC

DEPRECATED:
-----------
1. identity.storySeeds - Replaced by npc.storySeeds (per-NPC)
2. generateStorySeeds() for identity - Replaced by generateNPCStorySeeds()
3. Old revelation directive system - Simplified to personality-only

REVELATION DIRECTIVE SYSTEM (Previously Removed)
------------------------------------------------
Previously had a complex system with:
- RevelationDirective interface
- selectRevelationForNPC() function
- buildRevelationPrompt() function
- detectAndMarkRevelation() function

These were REMOVED because:
1. They were never actually called in the main game loop
2. The system was overly complex for the intended experience
3. Simplified to per-NPC story seeds in 1:1 chats only


================================================================================
                    DESIGN PHILOSOPHY CHANGES
================================================================================

BEFORE (Old System):
--------------------
- Group chat = main story delivery mechanism
- NPCs had hidden agendas and revelation phases
- Auto-chat was scripted to reveal secrets over 10 messages
- Cross-NPC knowledge allowed shared secrets
- Complex directive system controlled NPC behavior

AFTER (New System):
-------------------
- Group chat = casual social hangout (no forced drama)
- 1:1 chats = where real story happens
- Auto-chat is purely personality-driven
- Each NPC has isolated, individual story seeds
- NPCs adapt to player's conversational direction
- Player chooses when to engage with story content

WHY THE CHANGE:
---------------
Inspired by Character.AI's approach where:
- Group interactions feel natural and unforced
- Individual conversations allow for depth
- Players have agency over story engagement
- NPCs feel like real people, not plot devices


================================================================================
                              SUMMARY
================================================================================

The Sprouts is an innovative AI-powered life simulation that combines:
- Deep narrative systems with procedurally generated drama
- Flexible content ratings for different player preferences
- Local-first architecture for privacy
- Charming retro pixel art aesthetics
- Complex NPC relationships with individual story arcs
- Meaningful player choice in story engagement

CURRENT STATE (December 2025):
------------------------------
- Group chat is a casual social hub (personality-driven, no agendas)
- 1:1 chats deliver personalized story content via opening scenarios
- Each NPC has individual story seeds (2 per NPC, isolated)
- Simulation events inform post-day opening scenarios
- Speaking style system creates unique NPC voices
- Duplicate detection prevents repetitive responses
- Red notification dots indicate NPCs with new content

The game creates unique, personalized stories for each player through the
combination of persona templates, AI-generated scenarios, and the per-NPC
story seed system that ensures dramatic moments unfold naturally in private
conversations while keeping group interactions light and social.

================================================================================
                         LAST UPDATED: 2025-12-12
================================================================================
